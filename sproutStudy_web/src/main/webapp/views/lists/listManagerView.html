<div class="sprout-study-admin-lists">
    <div ng-controller="listManagerController" class="sproutstudy-tab sproutstudy-tab-patient container">

        <div class="alert alert-error" ng-show="saveListMessage != undefined">
            <h4>{{saveListMessage}}</h4>
        </div>

        <legend>Lists
            <span style="float: right;" ng-show="isManager() == 'true'">
                <a class="btn btn-primary" ng-click="onAddList()">Add List</a>
            </span>
        </legend>

        <table class="table table-condensed table-striped" ng-show="cohort.lists.length > 0">
            <thead class="inbox">
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Public?</th>
                <th style="text-align: center; width: 60px;" ng-show="isManager() == 'true'">Link</th>
                <th style="text-align: center; width: 60px;" ng-show="isManager() == 'true'">Data</th>
                <th style="text-align: center; width: 60px;" ng-show="isManager() == 'true'">Delete</th>
            </tr>
            </thead>
            <tr ng-repeat="list in cohort.lists | filter: listListFilter | orderBy:name" >
                <td class="list-cell"><a ng-href="" ng-click="onEditList(list)">{{list.name}}</a></td>
                <td class="list-cell"><a ng-href="" ng-click="onEditList(list)">{{list.description}}</a></td>
                <td class="list-cell"><i class="fa fa-check-square-o" ng-show="list.publicInd == true"></i><i class="fa fa-square-o" ng-show="list.publicInd == false"></i></td>
                <td style="text-align: center; width: 80px;" ng-show="listListFilter.active == true && isManager() == 'true'">
                    <button class="btn btn-mini btn-info" style="text-align: center; width: 30px;" ng-click="onLinkView(list)"><i class="fa fa-link"></i></button>
                </td>
                <td style="text-align: center; width: 80px;" ng-show="listListFilter.active == true && isManager() == 'true'">
                    <button class="btn btn-mini btn-success" style="text-align: center; width: 30px;" ng-click="onDataView(list)"><i class="fa fa-database"></i></button>
                </td>
                <td style="text-align: center; width: 80px;" ng-show="listListFilter.active == true && isManager() == 'true'">
                    <button class="btn btn-mini btn-warning" style="text-align: center; width: 30px;" ng-click="onOpenDeleteListModal(list.key)"><i class="fa fa-trash" style="font-size: 14px;"></i></button>
                </td>
            </tr>
        </table>
        <div modal="deleteListModal" close="onCloseDeleteListModal()" options="modalSmallOpts">
            <div class="modal-header">
                <h4>Delete List?</h4>
            </div>
            <div class="modal-body modal-body-short">
                <h4>{{deleteMessageText}}</h4>
            </div>
            <div class="modal-footer">
                <button class="btn cancel" ng-click="onCloseDeleteListModal()">Cancel</button>
                <button class="btn btn-primary" ng-disabled="deletingForm" ng-click="onDeleteList()">{{deleteListButtonText}}</button>
            </div>
        </div>
    </div>
</div>


