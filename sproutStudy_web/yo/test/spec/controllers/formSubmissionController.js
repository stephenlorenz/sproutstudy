'use strict';

describe('Controller: FormSubmissionControllerCtrl', function () {

  // load the controller's module
  beforeEach(module('sproutStudyApp'));

  var formSubmissionController,
    scope;

  // Initialize the controller and a mock scope
  beforeEach(inject(function ($controller, $rootScope, $injector, $httpBackend) {
    scope = $rootScope.$new();
    
//    $httpBackend = $injector.get($httpBackend);


    $httpBackend.whenJSONP(/http:\/\/localhost:8080\/frontoffice\/api\/command\/secure\/getFormSubmissions.*/).respond({"submissions":[{"publicationKey":"459DAB68-9F65-4614-8884-3300F0667364","instanceId":"E1C18C61-3B38-446E-92B1-0BD183B23244","deliveryKey":"32277460","submissionDate":1368029962000,"appointment":{"mrn":"4380868","patientName":"Seamus Murphy","appointmentId":"32277460","providerId":"12591","providerName":"Bauman MD,  Margaret L","duration":"45 min","appointmentType":"fol","appointmentStatus":"PEN","practiceId":355,"practiceName":"Lurie Center","appointmentTime":1365771600000,"iHealthSpaceStatus":"","forms":[],"appointmentDateTime":"Fri, Apr 12, 2013 9:00 AM"},"formTitle":"Demo Library Test Form","formDescription":"Form to test Demographic Library","status":"NEW","parameters":[{"name":"practice","value":"Lurie Center"},{"name":"visitType","value":"NEW"},{"name":"appointmentId","value":"32277460"},{"name":"provider","value":"BAUMAN MD,MARGARET L"}],"identifiers":[{"schema":"MGH","identifier":"4380868"},{"schema":"IHSID","identifier":"1522"},{"schema":"EMPI","identifier":"103851435"}],"assertions":[{"name":"MRN","value":"4380868","label":"Medical Record Number (MRN)","variableName":"FLD149_mrn_33410","fieldCode":"FLD149_mrn","searchField":"mrn","identifierInd":true},{"name":"First Name","value":"Seamus","label":"First Name","variableName":"FLD149_first_name_33411","fieldCode":"FLD149_first_name","searchField":"firstName","identifierInd":false},{"name":"Middle Name","value":"P","label":"Middle Name","variableName":"FLD149_middle_name_33412","fieldCode":"FLD149_middle_name","searchField":"middleName","identifierInd":false},{"name":"Last Name","value":"Murphy","label":"Last Name","variableName":"FLD149_last_name_33413","fieldCode":"FLD149_last_name","searchField":"lastName","identifierInd":false},{"name":"Gender","value":"M","label":"Sex","variableName":"FLD149_gender_33414","fieldCode":"FLD149_gender","searchField":"sex","identifierInd":false}],"verified":true},{"publicationKey":"459DAB68-9F65-4614-8884-3300F0667364","instanceId":"ABCDEFG3-3B38-446E-92B1-0BD183B23244","deliveryKey":"30059559","submissionDate":1366742515000,"appointment":{"mrn":"4392752","patientName":"Raul Perez","appointmentId":"30059559","providerId":"32518","providerName":"Zimmerman, Andrew W","duration":"45 min","appointmentType":"fol","appointmentStatus":"BMP","practiceId":355,"practiceName":"Lurie Center","appointmentTime":1365773400000,"iHealthSpaceStatus":"","forms":[],"appointmentDateTime":"Fri, Apr 12, 2013 9:30 AM"},"formTitle":"Demo Library Test Form","formDescription":"Form to test Demographic Library","status":"NEW","parameters":[{"name":"visitType","value":"NEW"},{"name":"provider","value":"ZIMMERMAN,ANDREW W"},{"name":"practice","value":"Lurie Center"},{"name":"appointmentId","value":"30059559"}],"identifiers":[{"schema":"IHSID","identifier":"1234"},{"schema":"BWH","identifier":"5124"}],"assertions":[{"name":"MRN","value":"4392752","label":"MGH Medical Record Number","variableName":"FRM113_mrn_123","fieldCode":"FRM113_mrn","searchField":"mrn","identifierInd":true},{"name":"First Name","value":"Raul","label":"First Name","variableName":"FRM113_first_name_123","fieldCode":"FRM113_first_name","searchField":"firstName","identifierInd":false},{"name":"Last Name","value":"Perez","label":"Last Name","variableName":"FRM113_last_name_123","fieldCode":"FRM113_last_name","searchField":"lastName","identifierInd":false},{"name":"Gender","value":"M","label":"Gender","variableName":"FRM113_gender_123","fieldCode":"FRM113_gender","searchField":"sex","identifierInd":false}],"verified":false},{"publicationKey":"459DAB68-9F65-4614-8884-3300F0667364","instanceId":"ABCDEFG2-3B38-446E-92B1-0BD183B23244","deliveryKey":"31889226","submissionDate":1368974455000,"appointment":{"mrn":"5224697","patientName":"Vincent Aubin","appointmentId":"31889226","providerId":"12591","providerName":"Bauman MD,  Margaret L","duration":"45 min","appointmentType":"fol","appointmentStatus":"PEN","practiceId":355,"practiceName":"Lurie Center","appointmentTime":1365779700000,"iHealthSpaceStatus":"","forms":[],"appointmentDateTime":"Fri, Apr 12, 2013 11:15 AM"},"formTitle":"Demo Library Test Form","formDescription":"Form to test Demographic Library","status":"NEW","parameters":[{"name":"provider","value":"BAUMAN MD,MARGARET L"},{"name":"visitType","value":"NEW"},{"name":"practice","value":"Lurie Center"},{"name":"appointmentId","value":"31889226"}],"identifiers":[{"schema":"IHSID","identifier":"1235"}],"assertions":[{"name":"MRN","value":"5227735","label":"MGH Medical Record Number","variableName":"FRM113_mrn_123","fieldCode":"FRM113_mrn","searchField":"mrn","identifierInd":true},{"name":"First Name","value":"Robert","label":"First Name","variableName":"FRM113_first_name_123","fieldCode":"FRM113_first_name","searchField":"firstName","identifierInd":false},{"name":"Last Name","value":"Seagal","label":"Last Name","variableName":"FRM113_last_name_123","fieldCode":"FRM113_last_name","searchField":"lastName","identifierInd":false},{"name":"Gender","value":"M","label":"Gender","variableName":"FRM113_gender_123","fieldCode":"FRM113_gender","searchField":"sex","identifierInd":false}],"verified":false},{"publicationKey":"129DAB68-9F65-4614-8884-3300F0667364","instanceId":"ABCDEFG1-3B38-446E-92B1-0BD183B23244","deliveryKey":"31826228","submissionDate":1368974455000,"appointment":{"mrn":"5175058","patientName":"Benjamin Huskic","appointmentId":"31826228","providerId":"12591","providerName":"Bauman MD,  Margaret L","duration":"45 min","appointmentType":"fol","appointmentStatus":"PEN","practiceId":355,"practiceName":"Lurie Center","appointmentTime":1365777000000,"iHealthSpaceStatus":"","forms":[],"appointmentDateTime":"Fri, Apr 12, 2013 10:30 AM"},"formTitle":"Lurie Center Follow-up Information Sheet","formDescription":"Follow-up form from the Lurie Center","status":"NEW","parameters":[{"name":"practice","value":"Lurie Center"},{"name":"appointmentId","value":"31826228"},{"name":"visitType","value":"NEW"},{"name":"provider","value":"BAUMAN MD,MARGARET L"}],"identifiers":[{"schema":"IHSID","identifier":"1236"}],"assertions":[{"name":"MRN","value":"5175058","label":"MGH Medical Record Number","variableName":"FRM113_mrn_123","fieldCode":"FRM113_mrn","searchField":"mrn","identifierInd":true},{"name":"First Name","value":"Jane","label":"First Name","variableName":"FRM113_first_name_123","fieldCode":"FRM113_first_name","searchField":"firstName","identifierInd":false},{"name":"Last Name","value":"Clayson","label":"Last Name","variableName":"FRM113_last_name_123","fieldCode":"FRM113_last_name","searchField":"lastName","identifierInd":false},{"name":"Gender","value":"F","label":"Gender","variableName":"FRM113_gender_123","fieldCode":"FRM113_gender","searchField":"sex","identifierInd":false}],"verified":false}]});

    formSubmissionController = $controller('formSubmissionController', {$scope: scope});
    
    console.log("formSubmissionController: " + formSubmissionController);

    
    
  }));

  it('should attach a list of awesomeThings to the scope', function () {
    expect(3).toEqual(3);
  });
});
